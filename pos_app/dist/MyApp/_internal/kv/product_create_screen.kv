<ProductCreateScreen>:
    name: 'product_create'

    BoxLayout:
        orientation: 'vertical'

        MDTopAppBar:
            title: "Создание товара"
            left_action_items: [["arrow-left", lambda x: setattr(root.manager, 'current', 'inventory' if not app.scan_for_invoice else 'scan_invoice')]]
            type: "top"

        MDBoxLayout:
            orientation: 'vertical'
            padding: "16dp"
            spacing: "8dp"

            MDLabel:
                text: "Введите данные товара"
                halign: "center"
                font_style: "H6"
                size_hint_y: None
                height: self.texture_size[1]

            MDTextField:
                id: barcode_input
                hint_text: "Штрих-код"
                helper_text: "Уникальный идентификатор товара"
                helper_text_mode: "on_focus"
                icon_right: "barcode"
                readonly: True

            MDTextField:
                id: name_input
                hint_text: "Название товара"
                helper_text: "Например: КОФЕ MACCOFFEE 3В1 GOLD 16Г СТИК"
                helper_text_mode: "on_focus"
                required: True

            MDTextField:
                id: unit_input
                hint_text: "Единица измерения"
                helper_text: "шт, кг, л и т.д."
                helper_text_mode: "on_focus"
                text: "шт"

            MDTextField:
                id: price_input
                hint_text: "Цена продажи"
                helper_text: "Цена продажи товара"
                helper_text_mode: "on_focus"
                input_filter: "float"
                required: True

            MDTextField:
                id: cost_price_input
                hint_text: "Себестоимость"
                helper_text: "Закупочная цена товара"
                helper_text_mode: "on_focus"
                input_filter: "float"

            MDTextField:
                id: quantity_input
                hint_text: "Количество"
                helper_text: "Количество на складе"
                helper_text_mode: "on_focus"
                input_filter: "int"

            Widget:
                size_hint_y: 0.1

            MDRaisedButton:
                text: "СОЗДАТЬ ТОВАР"
                size_hint_x: 0.8
                pos_hint: {"center_x": .5}
                on_release: root.create_product()
