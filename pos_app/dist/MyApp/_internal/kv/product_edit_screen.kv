
<ProductEditScreen>:
    name: 'product_edit'

    BoxLayout:
        orientation: 'vertical'

        MDTopAppBar:
            title: "Редактирование товара"
            left_action_items: [["arrow-left", lambda x: setattr(root.manager, 'current', 'inventory')]]
            type: "top"

        MDBoxLayout:
            orientation: 'vertical'
            padding: "16dp"
            spacing: "8dp"

            MDLabel:
                id: product_title
                text: "Товар"
                halign: "center"
                font_style: "H6"
                size_hint_y: None
                height: self.texture_size[1]

            MDTextField:
                id: barcode_input
                hint_text: "Штрих-код"
                helper_text: "Уникальный идентификатор товара"
                helper_text_mode: "on_focus"
                icon_right: "barcode"
                readonly: True

            MDTextField:
                id: name_input
                hint_text: "Название товара"
                helper_text: "Например: Молоко 3.2%"
                helper_text_mode: "on_focus"
                required: True

            MDTextField:
                id: price_input
                hint_text: "Цена продажи"
                helper_text: "Цена продажи товара"
                helper_text_mode: "on_focus"
                input_filter: "float"
                required: True

            MDTextField:
                id: cost_price_input
                hint_text: "Себестоимость"
                helper_text: "Закупочная цена товара"
                helper_text_mode: "on_focus"
                input_filter: "float"

            MDTextField:
                id: quantity_input
                hint_text: "Количество"
                helper_text: "Количество на складе"
                helper_text_mode: "on_focus"
                input_filter: "int"

            Widget:
                size_hint_y: 0.1

            MDRaisedButton:
                text: "СОХРАНИТЬ ИЗМЕНЕНИЯ"
                size_hint_x: 0.8
                pos_hint: {"center_x": .5}
                on_release: root.update_product()